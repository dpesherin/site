<link rel="preload" 
      href="/css/<%= prefix %>.css" 
      as="style"
      onload="this.onload=null;this.rel='stylesheet'">
<link rel="preload" href="<%= getJsAsset(prefix+'.js') %>" as="script">

<div class="content">
    <div class="application-header">
        <h2>Заявка №<%= applicationData.id %> <span class="badge badge-<%= applicationData.status %>"><%= translateApplicationStatus(applicationData.status) %></span></h2>
        <div class="application-date">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            <span>Дата заявки:</span>
            <span><%= formatToRussianDateTimeCustom(applicationData.date_create) %></span>
        </div>
    </div>
    <div class="application-data">
        <input type="hidden" id="applicationID" value="<%= applicationData.id %>">
        <input type="hidden" id="applicationStatus" value="<%= applicationData.status %>">
        <div class="d-flex g-32">
            <div class="info-group">
                <label>Имя</label>
                <div class="info-field">
                    <span class="field-value"><%= applicationData.name %></span>
                </div>
            </div>
            <div class="info-group">
                <label>Фамилия</label>
                <div class="info-field">
                    <span class="field-value"><%= applicationData.lastname %></span>
                </div>
            </div>
        </div>
        <div class="d-flex g-32">
            <div class="info-group">
                <label>Предпочитаемый способ связи</label>
                <div class="info-field">
                    <span class="field-value"><%= applicationData.priority_contact %></span>
                </div>
            </div>
            <div class="info-group">
                <label>Предпочитаемая дата</label>
                <div class="info-field">
                    <span class="field-value"><%= formatToRussianDateCustom(applicationData.date) %></span>
                </div>
            </div>
        </div>
        <div class="info-group w-100">
                <label>Дополнительная информация</label>
                <div class="info-field">
                    <span class="field-value"><%= applicationData.description %></span>
                </div>
            </div>
    </div>
    <% if(applicationData.status === "new"){ %>
        <div class="d-flex g-32 end btn-row">
            <button id="cancelBtn" class="cancel-btn">
                Клиент отказался
            </button>

            <button class="process-btn" id="processBtn">
                Создать фотосессию
            </button>
        </div>
    <% } %>
    
</div>
<script src="<%= getJsAsset(prefix+'.js') %>"></script>